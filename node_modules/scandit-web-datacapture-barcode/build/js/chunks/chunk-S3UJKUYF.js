var i=class{constructor(e,r,t){this.captureListenerSet=!1;this.coreEngine=e,this.Module=r,this.workerFunctions=t,this.setup();}barcodeCaptureDidUpdateSession(e){this.workerFunctions.postMessage({type:"barcodeCaptureDidUpdateSession",payload:JSON.parse(e.toJson())});}barcodeTrackingDidUpdateSession(e){this.workerFunctions.postMessage({type:"barcodeTrackingDidUpdateSession",payload:JSON.parse(e.toJson())});}getCaptureDeserializer(){return this.barcodeCaptureDeserializer}getTrackingDeserializer(){return this.barcodeTrackingDeserializer}setup(){let e=this.Module.BarcodeCaptureListener.extend("BarcodeCaptureListener",{didScan:(s,a,o)=>{this.barcodeCaptureDidScan(a,o);},didUpdateSession:(s,a)=>{this.barcodeCaptureDidUpdateSession(a);}}),r=this.Module.Feedback.extend("Feedback",{emit:()=>{this.successFeedback();}}),t=this.Module.BarcodeCaptureDeserializerListener.extend("BarcodeCaptureDeserializerListener",{onModeDeserializationFinished:(s,a)=>{this.captureListenerSet||(a.addListener(new e,1),a.setSuccessFeedback(new r),this.captureListenerSet=!0);},onModeDeserializationStarted(){},onSettingsDeserializationStarted(){},onSettingsDeserializationFinished(){}});this.barcodeCaptureDeserializer=new this.Module.BarcodeCaptureDeserializer,this.barcodeCaptureDeserializer.setListener(new t);}successFeedback(){this.workerFunctions.postMessage({type:"successFeedback"});}barcodeCaptureDidScan(e,r){let t=this.coreEngine.convertToLoadableFrameData(r);this.workerFunctions.postMessage({type:"barcodeCaptureDidScan",payload:{session:JSON.parse(e.toJson()),frameData:t}});}};

export { i as a };
